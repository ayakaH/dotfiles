set -g prefix C-f
unbind C-b
set -g mode-mouse on
set -g mouse-resize-pane on
set -g mouse-select-pane on
set -g mouse-select-window on
set -g history-limit 30000
unbind '"'

bind-key -n M-L detach-client
bind-key -n M-i splitw -v # 分割成上下两个窗口
unbind %
bind-key -n M-o splitw -h # 分割成左右两个窗口

bind-key -n M-K swapp -U # 与上窗格交换 Ctrl-u
bind-key -n M-J swapp -D # 与下窗格交换 Ctrl-d
#select window
bind-key -n F2 previous-window
bind-key -n F3 next-window
bind-key -n F4 new-window

# select the last pane (prefix e)
bind e lastp
# select the last window (prefix Ctrl+e)
bind ^e last
# kill pane (prefix q)
bind q killp
# kill window (prefix Ctrl+q)
bind ^q killw

# select pane
bind-key -n C-K selectp -U # above
bind-key -n C-J selectp -D # below
bind-key -n C-H selectp -L # left
bind-key -n C-L selectp -R # right
bind-key -n M-w selectp -U # above
bind-key -n M-s selectp -D # below
bind-key -n M-a selectp -L # left
bind-key -n M-d selectp -R # right


# select tab
bind-key -n M-1 select-window -t 0
bind-key -n M-2 select-window -t 1
bind-key -n M-3 select-window -t 2
bind-key -n M-4 select-window -t 3
bind-key -n M-5 select-window -t 4
bind-key -n M-6 select-window -t 5
bind-key -n M-7 select-window -t 6
bind-key -n M-8 select-window -t 7
bind-key -n M-9 select-window -t 8

# resize pane
bind -r ^k resizep -U 2 # upward (prefix Ctrl+k)
bind -r ^j resizep -D 2 # downward (prefix Ctrl+j)
bind -r ^h resizep -L 2 # to the left (prefix Ctrl+h)
bind -r ^l resizep -R 2 # to the right (prefix Ctrl+l)
bind-key -n M-k resizep -U 2 # upward (prefix Ctrl+k)
bind-key -n M-j resizep -D 2 # downward (prefix Ctrl+j)
bind-key -n M-h resizep -L 2 # to the left (prefix Ctrl+h)
bind-key -n M-l resizep -R 2 # to the right (prefix Ctrl+l)

bind r source-file ~/.tmux.conf \; display "Reloaded!"

# app
# htop (prefix !)
bind ! splitw htop
# man (prefix m)
bind m command-prompt "splitw 'exec man %%'"

# modes
setw -g clock-mode-colour colour255
setw -g mode-attr bold
setw -g mode-fg colour223
setw -g mode-bg colour235

# statusbar
set -g status-interval 5
set -g status-justify left
set -g status-bg colour235
set -g status-fg colour248
set -g status-attr bright
set -g status-right "#[fg=green]#[bg=blue]#(whoami)@#[default]#[fg=white]#(cat /etc/hostname)#[default]|#[fg=green]#(cut -d ' ' -f 1-3 /proc/loadavg)#[default]|#[fg=white]#(date '+%H:%M:%S')#[default]"
set -g status-bg black
set -g status-fg yellow

setw -g window-status-current-fg colour223
setw -g window-status-current-bg colour237
setw -g window-status-current-attr bold
setw -g window-status-current-format "#I:#W#F"

#setw -g window-status-alert-attr bold
#setw -g window-status-alert-fg colour255
#setw -g window-status-alert-bg colour160

# messages
set -g message-attr bold
set -g message-fg colour223
set -g message-bg colour235
set-option -g allow-rename off
# startup
